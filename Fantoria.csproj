<Project Sdk="Godot.NET.Sdk/4.4.1">
  <PropertyGroup>
    <TargetFramework>net8.0</TargetFramework>
    <EnableDynamicLoading>true</EnableDynamicLoading>
  </PropertyGroup>
  <ItemGroup>
    <PackageReference Include="CommunityToolkit.Mvvm" Version="8.4.0" />
    <PackageReference Include="MessagePack" Version="3.1.4" />
  </ItemGroup>

  <Target Name="PreBuild" BeforeTargets="PreBuildEvent">
    <ItemGroup>
      <DirectoriesToCreate Include="$(ProjectDir)bin\win-64" />
      <DirectoriesToCreate Include="$(ProjectDir)bin\android" />
      <FilesToCreate Include="$(ProjectDir)bin\.gdignore" />
    </ItemGroup>
    <MakeDir Directories="@(DirectoriesToCreate)" />
    <WriteLinesToFile File="@(FilesToCreate)" Lines="" Overwrite="true" />
  </Target>
</Project>